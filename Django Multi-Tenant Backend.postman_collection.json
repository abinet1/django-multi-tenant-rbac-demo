{
	"info": {
		"_postman_id": "d914eea4-f4c4-4744-9eaa-242d7a783ab6",
		"name": "Django Multi-Tenant Backend",
		"description": "Organized by user type | All 21 endpoints | Auto-save variables",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "39615255",
		"_collection_link": "https://adsdroid-saas.postman.co/workspace/adsdroid-team-Workspace~66cc3f0f-546d-4a8a-88c1-0f6790c556c8/collection/39615255-d914eea4-f4c4-4744-9eaa-242d7a783ab6?action=share&source=collection_link&creator=39615255"
	},
	"item": [
		{
			"name": "01. Superadmin",
			"item": [
				{
					"name": "Login (Superadmin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"access\", json.access);",
									"    pm.environment.set(\"refresh\", json.refresh);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ Login failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"superadmin@example.com\",\n  \"password\": \"Admin123!@#\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Bootstrap Admin Invitation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const json = pm.response.json();",
									"    ",
									"    if (json.invitation_token) {",
									"        pm.environment.set(\"bootstrap_invite_token\", json.invitation_token);",
									"        console.log(\"✅ Bootstrap Admin Invitation Token Saved\");",
									"        console.log(\"Token:\", json.invitation_token.substring(0, 20) + \"...\");",
									"    }",
									"} ",
									"else {",
									"    console.log(\"❌ Bootstrap invitation failed with status:\", pm.response.code);",
									"    console.log(\"Response:\", pm.response.text());",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@mycompany.com\",\n  \"expires_in_hours\": 48\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invitations/bootstrap-admin/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invitations",
								"bootstrap-admin",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "02. Admin",
			"item": [
				{
					"name": "Login (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"admin_access\", json.access);",
									"    pm.environment.set(\"admin_refresh\", json.refresh);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ Login failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@mycompany.com\",\n  \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Tenant Me",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/tenant/me/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tenant",
								"me",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Patch Tenant Me",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"address\": \"New Office Address\",\n    \"phone\": \"+971 50 123 4567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/tenant/me/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tenant",
								"me",
								""
							],
							"query": [
								{
									"key": "",
									"value": null,
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/companies/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"companies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Company",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"company_id\", json.id);",
									"    console.log(\"✅ Company created - ID saved\");",
									"} else {",
									"    console.log(\"❌ Create company failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Marketing Dept\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/companies/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"companies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Company",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"0fb7ba28-e130-41a1-81fd-6d41118d3e3d\",\n    \"tenant\": \"5f7da08f-fadf-455b-a5b6-60468acfa839\",\n    \"name\": \"Marketing Dep\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/companies/{{company_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"companies",
								"{{company_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Staff",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"staff@company.com\",\n  \"password\": \"StaffPass123!\",\n  \"company_id\": \"{{company_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/staff/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"staff",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List Staff",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/staff/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"staff",
								""
							],
							"query": [
								{
									"key": "",
									"value": null,
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "List Customers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/customers/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"customers",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Customer Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/customers/{{customer_id}}/products/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"customers",
								"{{customer_id}}",
								"products",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Accept Invitation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"admin_access\", json.access);",
									"    pm.environment.set(\"admin_refresh\", json.refresh);",
									"    console.log(\"✅ Invitation accepted - New tokens saved\");",
									"} else {",
									"    console.log(\"❌ Accept invitation failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"{{bootstrap_invite_token}}\",\n    \"tenant_name\": \"Tenant one\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invitations/accept/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invitations",
								"accept",
								""
							]
						},
						"description": "POST /api/invitations/accept/ - Accept invitation (bootstrap or manager)."
					},
					"response": []
				},
				{
					"name": "Create Manager Invitation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"invitation_token\", json.invitation_token);",
									"    console.log(\"✅ Manager invite token saved\");",
									"} else {",
									"    console.log(\"❌ Manager invitation failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"manager@example.com\",\n    \"role\": \"MANAGER\",\n    \"expires_in_hours\": 48\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invitations/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invitations",
								""
							]
						},
						"description": "POST /api/invitations/ - Admin creates manager invite."
					},
					"response": []
				}
			]
		},
		{
			"name": "03. Manager",
			"item": [
				{
					"name": "Login (Manager)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"manager_access\", json.access);",
									"    pm.environment.set(\"manager_refresh\", json.refresh);",
									"    console.log(\"✅ Invitation accepted - New tokens saved\");",
									"} else {",
									"    console.log(\"❌ Accept invitation failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"manager@example.com\",\n  \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Tenant Me",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{manager_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/tenant/me/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"tenant",
								"me",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List Companies",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{manager_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/companies/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"companies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Company",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"company_id\", json.id);",
									"    console.log(\"✅ Company created - ID saved\");",
									"} else {",
									"    console.log(\"❌ Create company failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{manager_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Marketing Dept\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/companies/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"companies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Staff",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{manager_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"staffByManager@company.com\",\n  \"password\": \"StaffPass123!\",\n  \"company_id\": \"{{company_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/staff/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"staff",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List Staff",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{manager_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/staff/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"staff",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Accept Invitation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"manager_access\", json.access);",
									"    pm.environment.set(\"manager_refresh\", json.refresh);",
									"    console.log(\"✅ Invitation accepted - New tokens saved\");",
									"} else {",
									"    console.log(\"❌ Accept invitation failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"{{invitation_token}}\",\n    // \"tenant_name\": \"tenant manager\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invitations/accept/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invitations",
								"accept",
								""
							]
						},
						"description": "POST /api/invitations/accept/ - Accept invitation (bootstrap or manager)."
					},
					"response": []
				}
			]
		},
		{
			"name": "04. Staff",
			"item": [
				{
					"name": "Login (Staff)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"staff_access\", json.access);",
									"    pm.environment.set(\"staff_refresh\", json.refresh);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ Login failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"staffByManager@company.com\",\n  \"password\": \"StaffPass123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Product",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const json = pm.response.json();",
									"    pm.environment.set(\"product_id\", json.id);",
									"    pm.environment.set(\"share_token\", json.share_token);",
									"    console.log(\"✅ Product created - ID saved\");",
									"} else {",
									"    console.log(\"❌ Create product failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{staff_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Laptop Pro\",\n  \"description\": \"High performance\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/products/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{staff_access}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Laptop Pro\",\n  \"description\": \"High performance\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/products/{{product_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								"{{product_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{staff_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Product Detail",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{staff_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/{{product_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								"{{product_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "05. Customer",
			"item": [
				{
					"name": "Login (Customer)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"customer_access\", json.access);",
									"    pm.environment.set(\"customer_refresh\", json.refresh);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ Login failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"customer@test.com\",\n    \"password\": \"CustomerPass123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "List My Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{customer_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Product Detail",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{customer_access}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/{{product_id}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"products",
								"{{product_id}}",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "06. Public (No Auth)",
			"item": [
				{
					"name": "Claim Product",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"customer_access\", json.access);",
									"    pm.environment.set(\"customer_refresh\", json.refresh);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ Login failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"share_token\": \"{{share_token}}\",\n  \"email\": \"customer@test.com\",\n  \"password\": \"CustomerPass123!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/public/products/claim/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"public",
								"products",
								"claim",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "07. Common Auth",
			"item": [
				{
					"name": "Token Refresh",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    pm.environment.set(\"access\", json.access);",
									"    ",
									"    console.log(\"✅ Tokens saved successfully\");",
									"    console.log(\"Access token:\", json.access.substring(0, 20) + \"...\");",
									"} else {",
									"    console.log(\"❌ refreshing token failed with status:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh\": \"{{refresh}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/token/refresh/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"token",
								"refresh",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Password Reset Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const json = pm.response.json();",
									"    ",
									"    if (json.reset_token) {",
									"        pm.environment.set(\"reset_token\", json.reset_token);",
									"        console.log(\"✅ Reset token saved:\", json.reset_token.substring(0, 15) + \"...\");",
									"    }",
									"} else {",
									"    console.log(\"❌ Password reset request failed:\", pm.response.code);",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"customer@test.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/password-reset/request/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"password-reset",
								"request",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Password Reset Confirm",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reset_token\": \"{{reset_token}}\",\n    \"new_password\": \"CustomerPass1234\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/password-reset/confirm/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"password-reset",
								"confirm",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000"
		},
		{
			"key": "access",
			"value": ""
		},
		{
			"key": "refresh",
			"value": ""
		},
		{
			"key": "bootstrap_invite_token",
			"value": ""
		},
		{
			"key": "invitation_token",
			"value": ""
		},
		{
			"key": "company_id",
			"value": ""
		},
		{
			"key": "product_id",
			"value": ""
		},
		{
			"key": "share_token",
			"value": ""
		},
		{
			"key": "customer_id",
			"value": ""
		},
		{
			"key": "reset_token",
			"value": ""
		}
	]
}